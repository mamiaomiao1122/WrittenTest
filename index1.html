<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">
<style type="text/css">
*{
margin: 0;
padding: 0;
}
p{
margin: 20px auto;
width: 330px;
font-size: 26px;
color: purple;
}
#box{
margin: 0 auto;
width:1000px;
}
#box ul{
/*ul浮动*/
float: left;
}
#box ul li{
list-style: none; 
}
#box ul li img{
width: 180px;
padding: 10px;

}
</style>
<script type="text/javascript">
window.onload=function(){
//抓元素
var box=document.getElementById('box');
var uls=box.getElementsByTagName('ul');
var vh=document.documentElement.clientHeight;

//创建节点函数
crElement();
function crElement(){
for(var i=1; i<=25;i++){
var new_img=document.createElement('img');
var new_li=document.createElement('li');
new_img.src='images/'+i+'.jpg';
new_li.appendChild(new_img);
var index=shortest(uls);
uls[index].appendChild(new_li);
}
}

//最小ul函数
function shortest(uls){
var height=uls[0].offsetHeight;
var index=0;
for(var i=0;i<uls.length;i++){
var new_height=uls[i].offsetHeight;
if(new_height<height){
height=new_height;
index=i;
}
}
return index;
}

//滚动事件
window.onscroll=function(){
var st=document.documentElement.scrollTop || document.body.scrollTop;
if(st+vh>=document.body.scrollHeight){
crElement();
}
}
}
</script>

</head>

<body>
<p>~~~~浮动瀑布流~~~~</p>
<div id="box">

<!--五列-->
<ul></ul>
<ul></ul>
<ul></ul>
<ul></ul>
<ul></ul>
</div>

</body>
</html>